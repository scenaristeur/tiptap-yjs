(function(){var t={6059:function(t,e,o){"use strict";var i=o(9242),n=o(3396);function r(t,e,o,i,r,s){const c=(0,n.up)("router-view"),a=(0,n.up)("router-link"),u=(0,n.up)("IpfsInfo");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(c),(0,n._)("nav",null,[(0,n.Wm)(a,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(a,{to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("About")])),_:1})]),(0,n.Wm)(u)])}var s=o(7139);const c={key:0,class:"ipfs-info"},a={id:"ipfs-info-agent"};function u(t,e,o,i,r,u){const l=(0,n.up)("ariane-history");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",null,(0,s.zw)(t.status),1),t.online?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("small",null,[(0,n.Uk)(" Agent version: "),(0,n._)("span",a,(0,s.zw)(t.agentVersion),1)]),(0,n.Wm)(l)])):(0,n.kq)("",!0)])}var l=o(2039);const d={id:"ariane"},f={key:0},h=(0,n._)("br",null,null,-1),p=["href"];function g(t,e,o,i,r,c){return(0,n.wg)(),(0,n.iD)("div",d,[null!=c.step?((0,n.wg)(),(0,n.iD)("div",f,[(0,n.Uk)(" History"),h,(0,n.Uk)(" cid: "),(0,n._)("a",{href:"https://ipfs.io/ipfs/"+c.step.cid.path,target:"_blank"}," ..."+(0,s.zw)(c.step.cid.path.slice(-10)),9,p)])):(0,n.kq)("",!0)])}var m={name:"ArianeHistory",watch:{step(){console.log(this.step),console.log("path: ",this.step.cid.path,this.step.room)}},computed:{step(){return this.$store.state.step}}},v=o(89);const y=(0,v.Z)(m,[["render",g]]);var w=y,b={name:"IpfsInfo",components:{ArianeHistory:w},data:function(){return{ipfs:null,status:"Connecting to IPFS...",id:"",agentVersion:"",online:!1}},created:async function(){},mounted:async function(){this.ipfs=await l.Ue(),this.$store.commit("setIpfs",this.ipfs),console.log("ipfs",this.ipfs),this.getIpfsNodeInfo()},methods:{async getIpfsNodeInfo(){try{const{agentVersion:t,id:e}=await this.ipfs.id();this.agentVersion=t,this.id=e,this.status="Connected to IPFS =)",this.online=this.ipfs.isOnline();const o=await this.ipfs.add("Hello world");console.info(o.path)}catch(t){this.status=`Error: ${t}`}}}};const k=(0,v.Z)(b,[["render",u]]);var A=k,_={name:"HomeView",components:{IpfsInfo:A}};const C=(0,v.Z)(_,[["render",r]]);var O=C,U=o(5431);(0,U.z)("/tiptap-yjs/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),alert("Noosphere has been updated, please close the app & reopen")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var N=o(2483);const S={class:"home"};function j(t,e,o,i,r,s){const c=(0,n.up)("HelloWorld");return(0,n.wg)(),(0,n.iD)("div",S,[(0,n.Wm)(c,{msg:"Welcome to Your Vue.js App"})])}function H(t,e,o,i,r,s){const c=(0,n.up)("TipTapEditor");return(0,n.wg)(),(0,n.j4)(c)}const I={key:0,class:"editor"},R={class:"editor__footer"},B={class:"editor__name"},F={class:"editor__name"};function D(t,e,o,i,r,c){const a=(0,n.up)("menu-bar"),u=(0,n.up)("editor-content");return r.editor?((0,n.wg)(),(0,n.iD)("div",I,[(0,n.Wm)(a,{class:"editor__header",editor:r.editor},null,8,["editor"]),(0,n.Wm)(u,{class:"editor__content",editor:r.editor},null,8,["editor"]),(0,n._)("div",R,[(0,n._)("div",{class:(0,s.C_)(`editor__status editor__status--${r.status}`)},["connected"===r.status?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,s.zw)(r.editor.storage.collaborationCursor.users.length)+" user"+(0,s.zw)(1===r.editor.storage.collaborationCursor.users.length?"":"s")+" online in ",1),(0,n._)("div",B,[(0,n._)("button",{onClick:e[0]||(e[0]=(...t)=>c.setRoom&&c.setRoom(...t))},(0,s.zw)(r.room),1)])],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)(" offline ")],64))],2),(0,n._)("div",F,[(0,n._)("button",{onClick:e[1]||(e[1]=(...t)=>c.setName&&c.setName(...t))},(0,s.zw)(r.currentUser.name),1)])])])):(0,n.kq)("",!0)}var E=o(7601),M=o(2019),P=o(5808),T=o(5017),x=o(3778),J=o(3747),L=o(1531),Z=o(6355),q=o(7200),W=o(3248);function z(t,e,o,i,r,s){const c=(0,n.up)("MenuItem");return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.items,((t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,["divider"===t.type?((0,n.wg)(),(0,n.iD)("div",{class:"divider",key:`divider${e}`})):((0,n.wg)(),(0,n.j4)(c,(0,n.dG)({key:e},t),null,16))],64)))),256))])}const $=["title"],V={class:"remix"},Y=["xlink:href"];function G(t,e,o,i,r,c){return(0,n.wg)(),(0,n.iD)("button",{class:(0,s.C_)(["menu-item",{"is-active":o.isActive?o.isActive():null}]),onClick:e[0]||(e[0]=(...t)=>o.action&&o.action(...t)),title:o.title},[((0,n.wg)(),(0,n.iD)("svg",V,[(0,n._)("use",{"xlink:href":`${r.remixiconUrl}#ri-${o.icon}`},null,8,Y)]))],10,$)}var Q=o(4727),K={props:{icon:{type:String,required:!0},title:{type:String,required:!0},action:{type:Function,required:!0},isActive:{type:Function,default:null}},data(){return{remixiconUrl:Q}}};const X=(0,v.Z)(K,[["render",G]]);var tt=X,et={components:{MenuItem:tt},props:{editor:{type:Object,required:!0}},data(){return{items:[{icon:"bold",title:"Bold",action:()=>this.editor.chain().focus().toggleBold().run(),isActive:()=>this.editor.isActive("bold")},{icon:"italic",title:"Italic",action:()=>this.editor.chain().focus().toggleItalic().run(),isActive:()=>this.editor.isActive("italic")},{icon:"strikethrough",title:"Strike",action:()=>this.editor.chain().focus().toggleStrike().run(),isActive:()=>this.editor.isActive("strike")},{icon:"code-view",title:"Code",action:()=>this.editor.chain().focus().toggleCode().run(),isActive:()=>this.editor.isActive("code")},{icon:"mark-pen-line",title:"Highlight",action:()=>this.editor.chain().focus().toggleHighlight().run(),isActive:()=>this.editor.isActive("highlight")},{type:"divider"},{icon:"h-1",title:"Heading 1",action:()=>this.editor.chain().focus().toggleHeading({level:1}).run(),isActive:()=>this.editor.isActive("heading",{level:1})},{icon:"h-2",title:"Heading 2",action:()=>this.editor.chain().focus().toggleHeading({level:2}).run(),isActive:()=>this.editor.isActive("heading",{level:2})},{icon:"paragraph",title:"Paragraph",action:()=>this.editor.chain().focus().setParagraph().run(),isActive:()=>this.editor.isActive("paragraph")},{icon:"list-unordered",title:"Bullet List",action:()=>this.editor.chain().focus().toggleBulletList().run(),isActive:()=>this.editor.isActive("bulletList")},{icon:"list-ordered",title:"Ordered List",action:()=>this.editor.chain().focus().toggleOrderedList().run(),isActive:()=>this.editor.isActive("orderedList")},{icon:"list-check-2",title:"Task List",action:()=>this.editor.chain().focus().toggleTaskList().run(),isActive:()=>this.editor.isActive("taskList")},{icon:"code-box-line",title:"Code Block",action:()=>this.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>this.editor.isActive("codeBlock")},{type:"divider"},{icon:"double-quotes-l",title:"Blockquote",action:()=>this.editor.chain().focus().toggleBlockquote().run(),isActive:()=>this.editor.isActive("blockquote")},{icon:"separator",title:"Horizontal Rule",action:()=>this.editor.chain().focus().setHorizontalRule().run()},{type:"divider"},{icon:"text-wrap",title:"Hard Break",action:()=>this.editor.chain().focus().setHardBreak().run()},{icon:"format-clear",title:"Clear Format",action:()=>this.editor.chain().focus().clearNodes().unsetAllMarks().run()},{type:"divider"},{icon:"arrow-go-back-line",title:"Undo",action:()=>this.editor.chain().focus().undo().run()},{icon:"arrow-go-forward-line",title:"Redo",action:()=>this.editor.chain().focus().redo().run()}]}}};const ot=(0,v.Z)(et,[["render",z]]);var it=ot;const nt=t=>t[Math.floor(Math.random()*t.length)],rt=()=>{const t=[...Array(99).keys()];return nt(t.map((t=>`rooms.${t}`)))};var st={name:"TipTapEditor",components:{EditorContent:q.kg,MenuBar:it},data(){return{currentUser:JSON.parse(localStorage.getItem("currentUser"))||{name:this.getRandomName(),color:this.getRandomColor()},provider:null,editor:null,status:"connecting",room:JSON.parse(localStorage.getItem("currentRoom"))||rt()}},mounted(){this.createEditor()},methods:{createEditor(){const t=new W.QW;this.provider=new E.Ui({url:"wss://hocus-noosphere.glitch.me/",parameters:{key:"write_bqgvQ3Zwl34V4Nxt43zR"},name:this.room,document:t}),this.provider.on("status",(t=>{this.status=t.status})),this.editor=new q.ML({extensions:[Z.Z.configure({history:!1}),x.ZP,L.Z,J.ZP,P.ZP.configure({document:t}),T.Z.configure({provider:this.provider,user:this.currentUser}),M.Z.configure({limit:1e4})]}),this.editor.on("update",(({editor:t})=>{console.log(t.getJSON());let e={room:this.room,data:t.getJSON(),type:"tiptap"};this.$store.dispatch("push",e)})),localStorage.setItem("currentUser",JSON.stringify(this.currentUser)),localStorage.setItem("currentRoom",JSON.stringify(this.room))},setName(){const t=(window.prompt("Name")||"").trim().substring(0,32);if(t)return this.updateCurrentUser({name:t})},setRoom(){const t=(window.prompt("Choose a Room from 0 to 99")||"").trim().substring(0,32);if(t)return this.updateCurrentRoom({room:t})},updateCurrentUser(t){this.currentUser={...this.currentUser,...t},this.editor.chain().focus().updateUser(this.currentUser).run(),localStorage.setItem("currentUser",JSON.stringify(this.currentUser))},updateCurrentRoom(t){console.log(t),this.room="rooms."+t.room,this.editor.destroy(),this.provider.destroy(),this.createEditor()},getRandomColor(){return nt(["#958DF1","#F98181","#FBBC88","#FAF594","#70CFF8","#94FADB","#B9F18D"])},getRandomName(){return nt(["Lea Thompson","Cyndi Lauper","Tom Cruise","Madonna","Jerry Hall","Joan Collins","Winona Ryder","Christina Applegate","Alyssa Milano","Molly Ringwald","Ally Sheedy","Debbie Harry","Olivia Newton-John","Elton John","Michael J. Fox","Axl Rose","Emilio Estevez","Ralph Macchio","Rob Lowe","Jennifer Grey","Mickey Rourke","John Cusack","Matthew Broderick","Justine Bateman","Lisa Bonet"])}},beforeUnmount(){this.editor.destroy(),this.provider.destroy()}};const ct=(0,v.Z)(st,[["render",D]]);var at=ct,ut={name:"HelloWorld",components:{TipTapEditor:at}};const lt=(0,v.Z)(ut,[["render",H]]);var dt=lt,ft={name:"HomeView",components:{HelloWorld:dt}};const ht=(0,v.Z)(ft,[["render",j]]);var pt=ht;const gt=[{path:"/",name:"home",component:pt},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,9468))}],mt=(0,N.p7)({history:(0,N.PO)("/tiptap-yjs/"),routes:gt});var vt=mt,yt=o(65),wt=(0,yt.MT)({state:{ipfs:null,step:null},getters:{},mutations:{setIpfs(t,e){t.ipfs=e}},actions:{async push(t,e){let o=t.state.ipfs;console.log("step",o,e),null!=o?(e.cid=await o.add(JSON.stringify(e.data)),console.info("cid",e),t.state.step=e):console.log("IPFS is null")}},modules:{}});(0,i.ri)(O).use(wt).use(vt).mount("#app")},2049:function(){},6245:function(){},1586:function(){},5057:function(){},4701:function(){},5745:function(){},2500:function(){},3090:function(){}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,i,n,r){if(!i){var s=1/0;for(l=0;l<t.length;l++){i=t[l][0],n=t[l][1],r=t[l][2];for(var c=!0,a=0;a<i.length;a++)(!1&r||s>=r)&&Object.keys(o.O).every((function(t){return o.O[t](i[a])}))?i.splice(a--,1):(c=!1,r<s&&(s=r));if(c){t.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[i,n,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};o.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"===typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"===typeof i.then)return i}var r=Object.create(null);o.r(r);var s={};t=t||[null,e({}),e([]),e(e)];for(var c=2&n&&i;"object"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){s[t]=function(){return i[t]}}));return s["default"]=function(){return i},o.d(r,s),r}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.f={},o.e=function(t){return Promise.all(Object.keys(o.f).reduce((function(e,i){return o.f[i](t,e),e}),[]))}}(),function(){o.u=function(t){return"js/about.dde2f720.js"}}(),function(){o.miniCssF=function(t){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="noosphere3:";o.l=function(i,n,r,s){if(t[i])t[i].push(n);else{var c,a;if(void 0!==r)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==e+r){c=d;break}}c||(a=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",e+r),c.src=i),t[i]=[n];var f=function(e,o){c.onerror=c.onload=null,clearTimeout(h);var n=t[i];if(delete t[i],c.parentNode&&c.parentNode.removeChild(c),n&&n.forEach((function(t){return t(o)})),e)return e(o)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),a&&document.head.appendChild(c)}}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/tiptap-yjs/"}(),function(){var t={143:0};o.f.j=function(e,i){var n=o.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise((function(o,i){n=t[e]=[o,i]}));i.push(n[2]=r);var s=o.p+o.u(e),c=new Error,a=function(i){if(o.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,n[1](c)}};o.l(s,a,"chunk-"+e,e)}},o.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,s=i[0],c=i[1],a=i[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(a)var l=a(o)}for(e&&e(i);u<s.length;u++)r=s[u],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(l)},i=self["webpackChunknoosphere3"]=self["webpackChunknoosphere3"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(6059)}));i=o.O(i)})();
//# sourceMappingURL=app.e6db5ea5.js.map